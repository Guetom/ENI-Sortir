{% extends 'base.html.twig' %}

{% block title %}{{ parent() }} | Mon profil{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('js/dynamicPicture.js') }}" defer></script>
{% endblock %}

{% block body %}
    <div class="container mt-5 d-flex flex-column justify-content-center align-items-center profile-page">
        <h2 class="mb-4 text-center align-items-center">Mon profil</h2>
        <div class="dynamic-picture-container dynamic-profile-picture-container mb-5">
            {% if user.profilePicture %}
                <img src="{{ asset('uploads/' ~ user.profilePicture) | imagine_filter('profile') }}" class="rounded-circle profile-picture dynamic-picture" alt="Photo de profil de {{ user.pseudo }}">
            {% else %}
                <img src="{{ asset('profilDefault.png') | imagine_filter('profile') }}" class="rounded-circle profile-picture dynamic-picture" alt="Photo de profil par dÃ©fault">
            {% endif %}
            <div class="camera-overlay">&#128247;</div>
        </div>

        {{ form_start(form,  { 'attr': {'class': 'col-12 col-lg-6 mx-auto mb-3 bg-light p-4 card shadow-sm'}})}}
            <div class="form-group row mb-3">
                {{ form_label(form.pseudo) }}
                <div class="col-sm-8">
                    {{ form_widget(form.pseudo) }}
                </div>
            </div>

            <div class="form-group row mb-3">
                {{ form_label(form.firstname) }}
                <div class="col-sm-8">
                    {{ form_widget(form.firstname) }}
                </div>
            </div>

            <div class="form-group row mb-3">
                {{ form_label(form.lastname) }}
                <div class="col-sm-8">
                    {{ form_widget(form.lastname) }}
                </div>
            </div>

            <div class="form-group row mb-3">
                {{ form_label(form.phone) }}
                <div class="col-sm-8">
                    {{ form_widget(form.phone) }}
                </div>
            </div>

            <div class="form-group row mb-3">
                {{ form_label(form.email) }}
                <div class="col-sm-8">
                    {{ form_widget(form.email) }}
                </div>
            </div>

{#            <div class="form-group row mb-3">#}
{#                {{ form_label(form.password.first) }}#}
{#                <div class="col-sm-8">#}
{#                    {{ form_widget(form.password.first) }}#}
{#                </div>#}
{#            </div>#}

{#            <div class="form-group row mb-3">#}
{#                {{ form_label(form.password.second) }}#}
{#                <div class="col-sm-8">#}
{#                    {{ form_widget(form.password.second) }}#}
{#                </div>#}
{#            </div>#}

            <div class="form-group row mb-3">
                {{ form_label(form.site) }}
                <div class="col-sm-8">
                    {{ form_widget(form.site) }}
                </div>
            </div>

            <div class="form-group row mb-3">
                {{ form_label(form.profilePicture) }}
                <div class="col-sm-8">
                    {{ form_widget(form.profilePicture) }}
                </div>
            </div>

            <div class="form-group row mb-3">
                <div class="col-sm-10 mx-auto text-center">
                    <button type="submit" class="btn btn-lg btn-primary mt-3 mx-2">Enregistrer</button>
                    <a href="#" class="btn btn-lg btn-danger mt-3 mx-2">Annuler</a>
                </div>
            </div>
        {{ form_end(form) }}
    </div>

{% endblock %}
